import{a as M,b as p,c as w,d as y,f as F,h as O,i as S,m as k,n as I}from"./chunk-GJFRIYG5.js";import{b as C,d as v,i as P,k as h,r as x}from"./chunk-YLNKWVWQ.js";import{Ea as d,Ka as s,Ma as n,Na as i,Oa as f,Qa as b,Ra as c,Sa as a,Ua as g,Wa as _,qa as r,va as m,za as u}from"./chunk-L5ZCWPZT.js";var N=o=>({"is-invalid":o});function T(o,l){if(o&1&&(n(0,"div",13),a(1),i()),o&2){let e=c();r(),g(" ",e.message," ")}}function G(o,l){if(o&1&&(n(0,"div",14),a(1),i()),o&2){let e=c();r(),g(" ",e.errorMessage," ")}}function R(o,l){o&1&&(n(0,"small"),a(1,"Email is required"),i())}function j(o,l){o&1&&(n(0,"small"),a(1,"Please enter a valid email address"),i())}function z(o,l){if(o&1&&(n(0,"div",15),d(1,R,2,0,"small",16)(2,j,2,0,"small",16),i()),o&2){let e=c();r(),s("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),r(),s("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email)}}var E=class o{constructor(l,e,t){this.fb=l;this.http=e;this.router=t;this.forgotPasswordForm=this.fb.group({email:["",[p.required,p.email]]})}forgotPasswordForm;isSubmitting=!1;message="";errorMessage="";onSubmit(){if(this.forgotPasswordForm.invalid)return;this.isSubmitting=!0,this.errorMessage="",this.message="";let l=this.forgotPasswordForm.get("email")?.value;this.http.post("198.96.89.132:8080/api/auth/forgot-password",null,{params:{email:l},responseType:"json"}).subscribe({next:e=>{this.message=e.message,this.isSubmitting=!1},error:e=>{this.errorMessage=e.error?.error||"An error occurred. Please try again.",this.isSubmitting=!1}})}get email(){return this.forgotPasswordForm.get("email")}static \u0275fac=function(e){return new(e||o)(m(k),m(h),m(x))};static \u0275cmp=u({type:o,selectors:[["app-forgot-password"]],decls:19,vars:9,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-title"],[1,"auth-form",3,"ngSubmit","formGroup"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","your.email@example.com","autocomplete","email",1,"form-control",3,"ngClass"],["class","error-message",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"auth-links"],["routerLink","/login"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[1,"error-message"],[4,"ngIf"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Forgot Password"),i(),n(4,"form",3),b("ngSubmit",function(){return t.onSubmit()}),d(5,T,2,1,"div",4)(6,G,2,1,"div",5),n(7,"div",6)(8,"label",7),a(9,"Email"),i(),f(10,"input",8),d(11,z,3,2,"div",9),i(),n(12,"button",10),a(13),i(),n(14,"div",11)(15,"p"),a(16,"Remember your password? "),n(17,"a",12),a(18,"Back to Login"),i()()()()()()),e&2&&(r(4),s("formGroup",t.forgotPasswordForm),r(),s("ngIf",t.message),r(),s("ngIf",t.errorMessage),r(4),s("ngClass",_(7,N,(t.email==null?null:t.email.invalid)&&((t.email==null?null:t.email.dirty)||(t.email==null?null:t.email.touched)))),r(),s("ngIf",(t.email==null?null:t.email.invalid)&&((t.email==null?null:t.email.dirty)||(t.email==null?null:t.email.touched))),r(),s("disabled",t.forgotPasswordForm.invalid||t.isSubmitting),r(),g(" ",t.isSubmitting?"Sending...":"Send Reset Link"," "))},dependencies:[I,F,M,w,y,O,S,P,C,v],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.auth-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a;width:100%;max-width:400px}.auth-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-control[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem}.btn[_ngcontent-%COMP%]{padding:.75rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}.btn-block[_ngcontent-%COMP%]{width:100%}.alert[_ngcontent-%COMP%]{padding:.75rem;border-radius:4px;margin-bottom:1rem}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.auth-links[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;font-size:.875rem}.auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.forgot-password-link[_ngcontent-%COMP%]{text-align:right;margin-bottom:1rem}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:.875rem}.forgot-password-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{E as ForgotPasswordComponent};
