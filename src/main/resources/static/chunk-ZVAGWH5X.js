import{a as h,b as p,c as P,d as N,f as S,g as E,h as M,i as O,j as F,k as I,l as T,m as k,n as q}from"./chunk-GJFRIYG5.js";import{a as G}from"./chunk-YCD7QI3S.js";import{d as y,i as _,r as C}from"./chunk-YLNKWVWQ.js";import{Ea as d,Ka as m,La as c,Ma as n,Na as t,Oa as u,Qa as b,Ra as g,Sa as i,Ua as f,qa as o,va as s,za as v}from"./chunk-L5ZCWPZT.js";function A(r,l){if(r&1&&(n(0,"div",30),i(1),t()),r&2){let a=g();o(),f(" ",a.error," ")}}function D(r,l){r&1&&(n(0,"div",31),i(1," Full name is required "),t())}function j(r,l){r&1&&(n(0,"div"),i(1,"Age is required"),t())}function R(r,l){r&1&&(n(0,"div"),i(1,"Age must be at least 1"),t())}function V(r,l){r&1&&(n(0,"div"),i(1,"Age must be less than 120"),t())}function z(r,l){if(r&1&&(n(0,"div",31),d(1,j,2,0,"div",32)(2,R,2,0,"div",32)(3,V,2,0,"div",32),t()),r&2){let a=g();o(),m("ngIf",a.age==null||a.age.errors==null?null:a.age.errors.required),o(),m("ngIf",a.age==null||a.age.errors==null?null:a.age.errors.min),o(),m("ngIf",a.age==null||a.age.errors==null?null:a.age.errors.max)}}function B(r,l){r&1&&(n(0,"div",31),i(1," City is required "),t())}function H(r,l){r&1&&(n(0,"div",31),i(1," Gender is required "),t())}function Y(r,l){r&1&&(n(0,"div",31),i(1," Department is required "),t())}function J(r,l){r&1&&(n(0,"div",31),i(1," Event name is required "),t())}var w=class r{constructor(l,a,e){this.fb=l;this.participationService=a;this.router=e;this.participationForm=this.fb.group({fullName:["",p.required],age:["",[p.required,p.min(1),p.max(120)]],city:["",p.required],gender:["",p.required],department:["",p.required],eventName:["",p.required],referralSource:[""],medicalCondition:[""],type:[""]})}participationForm;error="";submitting=!1;ngOnInit(){this.participationService.getStatus().subscribe({next:l=>{l.hasSubmittedForm&&this.router.navigate(["/dashboard"])},error:l=>{console.error("Error checking participation status:",l)}})}onSubmit(){if(this.participationForm.invalid){this.markFormGroupTouched();return}this.submitting=!0,this.error="",this.participationService.submit(this.participationForm.value).subscribe({next:()=>{this.submitting=!1,this.router.navigate(["/dashboard"])},error:l=>{this.error=l.error?.message||"Submission failed. Please try again.",this.submitting=!1}})}markFormGroupTouched(){Object.keys(this.participationForm.controls).forEach(l=>{this.participationForm.get(l)?.markAsTouched()})}get fullName(){return this.participationForm.get("fullName")}get age(){return this.participationForm.get("age")}get city(){return this.participationForm.get("city")}get gender(){return this.participationForm.get("gender")}get department(){return this.participationForm.get("department")}get eventName(){return this.participationForm.get("eventName")}static \u0275fac=function(a){return new(a||r)(s(k),s(G),s(C))};static \u0275cmp=v({type:r,selectors:[["app-participation"]],decls:60,vars:22,consts:[[1,"participation-container"],[1,"participation-card"],[1,"participation-form",3,"ngSubmit","formGroup"],["class","alert alert-error",4,"ngIf"],[1,"form-group"],["for","fullName"],["type","text","id","fullName","formControlName","fullName","placeholder","Enter your full name"],["class","error-message",4,"ngIf"],["for","age"],["type","number","id","age","formControlName","age","placeholder","Enter your age"],["for","city"],["type","text","id","city","formControlName","city","placeholder","Enter your city"],["for","gender"],["id","gender","formControlName","gender"],["value",""],["value","Male"],["value","Female"],["value","Other"],["value","Prefer not to say"],["for","department"],["type","text","id","department","formControlName","department","placeholder","Enter your department"],["for","eventName"],["type","text","id","eventName","formControlName","eventName","placeholder","Enter event name"],["for","referralSource"],["type","text","id","referralSource","formControlName","referralSource","placeholder","How did you hear about us?"],["for","medicalCondition"],["id","medicalCondition","formControlName","medicalCondition","placeholder","Any medical conditions we should know about?","rows","3"],["for","type"],["type","text","id","type","formControlName","type","placeholder","Participation type"],["type","submit",1,"submit-btn",3,"disabled"],[1,"alert","alert-error"],[1,"error-message"],[4,"ngIf"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Complete Your Participation Details"),t(),n(4,"form",2),b("ngSubmit",function(){return e.onSubmit()}),d(5,A,2,1,"div",3),n(6,"div",4)(7,"label",5),i(8,"Full Name *"),t(),u(9,"input",6),d(10,D,2,0,"div",7),t(),n(11,"div",4)(12,"label",8),i(13,"Age *"),t(),u(14,"input",9),d(15,z,4,3,"div",7),t(),n(16,"div",4)(17,"label",10),i(18,"City *"),t(),u(19,"input",11),d(20,B,2,0,"div",7),t(),n(21,"div",4)(22,"label",12),i(23,"Gender *"),t(),n(24,"select",13)(25,"option",14),i(26,"Select Gender"),t(),n(27,"option",15),i(28,"Male"),t(),n(29,"option",16),i(30,"Female"),t(),n(31,"option",17),i(32,"Other"),t(),n(33,"option",18),i(34,"Prefer not to say"),t()(),d(35,H,2,0,"div",7),t(),n(36,"div",4)(37,"label",19),i(38,"Department *"),t(),u(39,"input",20),d(40,Y,2,0,"div",7),t(),n(41,"div",4)(42,"label",21),i(43,"Event Name *"),t(),u(44,"input",22),d(45,J,2,0,"div",7),t(),n(46,"div",4)(47,"label",23),i(48,"Referral Source"),t(),u(49,"input",24),t(),n(50,"div",4)(51,"label",25),i(52,"Medical Conditions"),t(),u(53,"textarea",26),t(),n(54,"div",4)(55,"label",27),i(56,"Type"),t(),u(57,"input",28),t(),n(58,"button",29),i(59),t()()()()),a&2&&(o(4),m("formGroup",e.participationForm),o(),m("ngIf",e.error),o(4),c("error",(e.fullName==null?null:e.fullName.invalid)&&((e.fullName==null?null:e.fullName.touched)||(e.fullName==null?null:e.fullName.dirty))),o(),m("ngIf",(e.fullName==null?null:e.fullName.invalid)&&((e.fullName==null?null:e.fullName.touched)||(e.fullName==null?null:e.fullName.dirty))),o(4),c("error",(e.age==null?null:e.age.invalid)&&((e.age==null?null:e.age.touched)||(e.age==null?null:e.age.dirty))),o(),m("ngIf",(e.age==null?null:e.age.invalid)&&((e.age==null?null:e.age.touched)||(e.age==null?null:e.age.dirty))),o(4),c("error",(e.city==null?null:e.city.invalid)&&((e.city==null?null:e.city.touched)||(e.city==null?null:e.city.dirty))),o(),m("ngIf",(e.city==null?null:e.city.invalid)&&((e.city==null?null:e.city.touched)||(e.city==null?null:e.city.dirty))),o(4),c("error",(e.gender==null?null:e.gender.invalid)&&((e.gender==null?null:e.gender.touched)||(e.gender==null?null:e.gender.dirty))),o(11),m("ngIf",(e.gender==null?null:e.gender.invalid)&&((e.gender==null?null:e.gender.touched)||(e.gender==null?null:e.gender.dirty))),o(4),c("error",(e.department==null?null:e.department.invalid)&&((e.department==null?null:e.department.touched)||(e.department==null?null:e.department.dirty))),o(),m("ngIf",(e.department==null?null:e.department.invalid)&&((e.department==null?null:e.department.touched)||(e.department==null?null:e.department.dirty))),o(4),c("error",(e.eventName==null?null:e.eventName.invalid)&&((e.eventName==null?null:e.eventName.touched)||(e.eventName==null?null:e.eventName.dirty))),o(),m("ngIf",(e.eventName==null?null:e.eventName.invalid)&&((e.eventName==null?null:e.eventName.touched)||(e.eventName==null?null:e.eventName.dirty))),o(13),m("disabled",e.participationForm.invalid||e.submitting),o(),f(" ",e.submitting?"Submitting...":"Submit Participation"," "))},dependencies:[q,S,I,T,h,E,F,P,N,M,O,_,y],styles:[".participation-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;min-height:100vh;padding:2rem 1rem;background-color:#f5f5f5}.participation-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a;width:100%;max-width:600px}.participation-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#333}.participation-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{border-color:#dc3545}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:4px;margin-bottom:1rem}.alert-error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.submit-btn[_ngcontent-%COMP%]{padding:1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .2s}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}"]})};export{w as ParticipationComponent};
