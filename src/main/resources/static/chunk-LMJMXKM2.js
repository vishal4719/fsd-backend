import{a as P,b as g,c as y,d as O,f as S,h as k,i as L,m as F,n as I}from"./chunk-GJFRIYG5.js";import{a as E}from"./chunk-QJVGMPDY.js";import{b as _,d as C,i as w,r as x,s as M}from"./chunk-YLNKWVWQ.js";import{Ea as m,Ka as l,Ma as o,Na as r,Oa as c,Qa as b,Ra as p,Sa as a,Ua as f,Wa as v,qa as i,va as u,za as h}from"./chunk-L5ZCWPZT.js";var N=n=>({"is-invalid":n});function T(n,s){if(n&1&&(o(0,"div",16)(1,"strong"),a(2,"Error:"),r(),a(3),r()),n&2){let t=p();i(3),f(" ",t.errorMessage," ")}}function q(n,s){n&1&&(o(0,"small"),a(1,"Email is required"),r())}function D(n,s){n&1&&(o(0,"small"),a(1,"Please enter a valid email address"),r())}function z(n,s){if(n&1&&(o(0,"div",17),m(1,q,2,0,"small",18)(2,D,2,0,"small",18),r()),n&2){let t=p();i(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),i(),l("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function G(n,s){n&1&&(o(0,"small"),a(1,"Password is required"),r())}function j(n,s){n&1&&(o(0,"small"),a(1,"Password must be at least 6 characters"),r())}function A(n,s){if(n&1&&(o(0,"div",17),m(1,G,2,0,"small",18)(2,j,2,0,"small",18),r()),n&2){let t=p();i(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),i(),l("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength)}}var R=class n{constructor(s,t,e){this.fb=s;this.authService=t;this.router=e}loginForm;isSubmitting=!1;errorMessage="";ngOnInit(){this.initForm()}initForm(){this.loginForm=this.fb.group({email:["",[g.required,g.email]],password:["",[g.required]]})}onSubmit(){if(this.loginForm.invalid)return;this.isSubmitting=!0,this.errorMessage="";let{email:s,password:t}=this.loginForm.value,e={email:s,password:t};this.authService.login(e).subscribe({next:d=>{console.log("Login successful",d),this.isSubmitting=!1,this.router.navigate(["/dashboard"])},error:d=>{console.error("Login error:",d),this.isSubmitting=!1,this.errorMessage=d.message||"Login failed. Please try again later."}})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}static \u0275fac=function(t){return new(t||n)(u(F),u(E),u(x))};static \u0275cmp=h({type:n,selectors:[["app-login"]],decls:26,vars:12,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-title"],[1,"auth-form",3,"ngSubmit","formGroup"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","your.email@example.com","autocomplete","email",1,"form-control",3,"ngClass"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password",1,"form-control",3,"ngClass"],[1,"forgot-password-link"],["routerLink","/forgot-password"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"auth-links"],["routerLink","/register"],[1,"alert","alert-danger"],[1,"error-message"],[4,"ngIf"]],template:function(t,e){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Log In"),r(),o(4,"form",3),b("ngSubmit",function(){return e.onSubmit()}),m(5,T,4,1,"div",4),o(6,"div",5)(7,"label",6),a(8,"Email"),r(),c(9,"input",7),m(10,z,3,2,"div",8),r(),o(11,"div",5)(12,"label",9),a(13,"Password"),r(),c(14,"input",10),m(15,A,3,2,"div",8),r(),o(16,"div",11)(17,"a",12),a(18,"Forgot Password?"),r()(),o(19,"button",13),a(20),r(),o(21,"div",14)(22,"p"),a(23,"Don't have an account? "),o(24,"a",15),a(25,"Sign Up"),r()()()()()()),t&2&&(i(4),l("formGroup",e.loginForm),i(),l("ngIf",e.errorMessage),i(4),l("ngClass",v(8,N,(e.email==null?null:e.email.invalid)&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.touched)))),i(),l("ngIf",(e.email==null?null:e.email.invalid)&&((e.email==null?null:e.email.dirty)||(e.email==null?null:e.email.touched))),i(4),l("ngClass",v(10,N,(e.password==null?null:e.password.invalid)&&((e.password==null?null:e.password.dirty)||(e.password==null?null:e.password.touched)))),i(),l("ngIf",(e.password==null?null:e.password.invalid)&&((e.password==null?null:e.password.dirty)||(e.password==null?null:e.password.touched))),i(4),l("disabled",e.loginForm.invalid||e.isSubmitting),i(),f(" ",e.isSubmitting?"Logging in...":"Log In"," "))},dependencies:[I,S,P,y,O,k,L,M,w,_,C],styles:['.auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:3rem 1rem;min-height:calc(100vh - 80px)}.auth-card[_ngcontent-%COMP%]{background-color:var(--card-bg);border-radius:16px;box-shadow:0 10px 30px #0000001f;padding:2.5rem;width:100%;max-width:450px;transition:transform .3s,box-shadow .3s;border:1px solid rgba(76,175,80,.1)}.auth-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #4caf5026}.auth-title[_ngcontent-%COMP%]{color:var(--primary-color);text-align:center;margin-bottom:2rem;font-size:2rem;font-weight:600;letter-spacing:.5px}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.8rem}.auth-form[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]{width:100%;margin:2rem 0 1rem;padding:14px;font-size:1.1rem;font-weight:500;letter-spacing:.5px;background:linear-gradient(135deg,var(--primary-color),var(--primary-light));color:var(--light-text);border:none;border-radius:50px;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.auth-form[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--primary-light),var(--primary-color));transform:translateY(-3px);box-shadow:0 8px 25px #4caf5040}.auth-form[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,var(--primary-dark),var(--primary-color));transform:translateY(0)}.auth-form[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(255,255,255,.1),transparent);transition:all .3s ease}.auth-form[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%]:hover:after{background:linear-gradient(135deg,rgba(255,255,255,.2),transparent)}.auth-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem;color:var(--text-light);font-size:.95rem}.auth-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:10px;padding:14px 18px;background-color:#f8fafc;border:1px solid #e2e8f0;transition:all .3s}.auth-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#fff;border-color:var(--primary-light);box-shadow:0 0 0 3px #4caf501a}.auth-form[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%]{border-color:var(--error-color);background-color:#fff9f9}.auth-links[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.95rem;color:var(--text-light)}.auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500;transition:all .3s}.auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-light);text-decoration:underline}.alert[_ngcontent-%COMP%]{padding:1rem 1.2rem;margin-bottom:1.5rem;border-radius:10px;font-size:.95rem}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#d32f2f14;color:var(--error-color);border-left:4px solid var(--error-color)}.error-message[_ngcontent-%COMP%]{color:var(--error-color);font-size:.85rem;margin-top:.5rem}']})};export{R as LoginComponent};
